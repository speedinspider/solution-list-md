local ScreenGui = Instance.new("ScreenGui")
local r = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local ScrollingFrame = Instance.new("ScrollingFrame")
local Dev = Instance.new("ImageButton")
local CommM = Instance.new("ImageButton")
local Staff = Instance.new("ImageButton")
local TStaff = Instance.new("ImageButton")
local Admin = Instance.new("ImageButton")
local UIGradient = Instance.new("UIGradient")
local UIListLayout = Instance.new("UIListLayout")
local Remote = game:GetService("Players").LocalPlayer.PlayerGui.MainMenuGui.MainMenuFrame.
StaffButton.ShowStaffButtons.RemoteEvent

local DevAspect = Instance.new("UIAspectRatioConstraint")
local CommMAspect = Instance.new("UIAspectRatioConstraint")
local StaffAspect = Instance.new("UIAspectRatioConstraint")
local TStaffAspect = Instance.new("UIAspectRatioConstraint")
local AdminAspect = Instance.new("UIAspectRatioConstraint")

local Colors = {
    Dev = Color3.fromRGB(147, 94, 186),
    CommM = Color3.fromRGB(164, 114, 230),
    Staff = Color3.fromRGB(38, 0, 255),
    TStaff = Color3.fromRGB(121, 224, 252),
    Admin = Color3.fromRGB(255, 0, 38)
}
local TweenService = game:GetService("TweenService")


ScreenGui.Name = "{}"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

r.Name = "r"
r.Parent = ScreenGui
r.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
r.BorderColor3 = Color3.fromRGB(0, 0, 0)
r.BorderSizePixel = 0
r.Position = UDim2.new(0.0183752421, 0, 0.650831342, 0)
r.Size = UDim2.new(0.16344294, 0, 0.312351555, 0)

UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(20, 20, 20)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 50, 50))
}

UIGradient.Parent = r

UICorner.Parent = r

ScrollingFrame.Parent = r
ScrollingFrame.Active = true
ScrollingFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ScrollingFrame.BackgroundTransparency = 1.000
ScrollingFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
ScrollingFrame.BorderSizePixel = 0
ScrollingFrame.Position = UDim2.new(0.0804597735, 0, 0, 0)
ScrollingFrame.Size = UDim2.new(0.816091955, 0, 1, 0)
ScrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
ScrollingFrame.CanvasPosition = Vector2.new(0, 0)

Dev.Name = "Dev"
Dev.Parent = ScrollingFrame
Dev.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Dev.BackgroundTransparency = 1.000
Dev.BorderColor3 = Color3.fromRGB(0, 0, 0)
Dev.BorderSizePixel = 0
Dev.Size = UDim2.new(1, 0, 0, 60)
Dev.Image = "rbxassetid://135841789263909"
Dev.ScaleType = Enum.ScaleType.Fit
DevAspect.Parent = Dev
DevAspect.AspectRatio = 3

CommM.Name = "CommM"
CommM.Parent = ScrollingFrame
CommM.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
CommM.BackgroundTransparency = 1.000
CommM.BorderColor3 = Color3.fromRGB(0, 0, 0)
CommM.BorderSizePixel = 0
CommM.Size = UDim2.new(1, 0, 0, 60)
CommM.Image = "rbxassetid://108738328111079"
CommM.ScaleType = Enum.ScaleType.Fit
CommMAspect.Parent = CommM
CommMAspect.AspectRatio = 3

Staff.Name = "Staff"
Staff.Parent = ScrollingFrame
Staff.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Staff.BackgroundTransparency = 1.000
Staff.BorderColor3 = Color3.fromRGB(0, 0, 0)
Staff.BorderSizePixel = 0
Staff.Size = UDim2.new(1, 0, 0, 60)
Staff.Image = "rbxassetid://75259675253990"
Staff.ScaleType = Enum.ScaleType.Fit
StaffAspect.Parent = Staff
StaffAspect.AspectRatio = 3

TStaff.Name = "TStaff"
TStaff.Parent = ScrollingFrame
TStaff.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TStaff.BackgroundTransparency = 1.000
TStaff.BorderColor3 = Color3.fromRGB(0, 0, 0)
TStaff.BorderSizePixel = 0
TStaff.Size = UDim2.new(1, 0, 0, 60)
TStaff.Image = "rbxassetid://98477010739650"
TStaff.ScaleType = Enum.ScaleType.Fit
TStaffAspect.Parent = TStaff
TStaffAspect.AspectRatio = 3

Admin.Name = "Admin"
Admin.Parent = ScrollingFrame
Admin.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Admin.BackgroundTransparency = 1.000
Admin.BorderColor3 = Color3.fromRGB(0, 0, 0)
Admin.BorderSizePixel = 0
Admin.Size = UDim2.new(1, 0, 0, 60)
Admin.Image = "rbxassetid://137266107691373"
Admin.ScaleType = Enum.ScaleType.Fit
AdminAspect.Parent = Admin
AdminAspect.AspectRatio = 3

UIListLayout.Parent = ScrollingFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 9)

for _, imagebutton in ScrollingFrame:GetChildren() do
    if imagebutton:IsA("ImageButton") then
        imagebutton.MouseButton1Click:Connect(function()
            Remote:FireServer(imagebutton.Name)

            local color = Colors[imagebutton.Name]
            if color then
                TweenService:Create(r, TweenInfo.new(0.5), {BackgroundColor3 = color}):Play()
            end
        end)
    end
end

local UIS = game:GetService('UserInputService')
local frame = r
local dragToggle = nil
local dragSpeed = 0.25
local dragStart = nil
local startPos = nil

local function updateInput(input)
    local delta = input.Position - dragStart
    local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
        startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    game:GetService('TweenService'):Create(frame, TweenInfo.new(dragSpeed), {Position = position}):Play()
end

frame.InputBegan:Connect(function(input)
    if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then 
        dragToggle = true
        dragStart = input.Position
        startPos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragToggle = false
            end
        end)
    end
end)

UIS.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        if dragToggle then
            updateInput(input)
        end
    end
end)

